{
    "regions": [
        {
            "name": "Menu",
            "exits": [
                {
                    "name": "Shrine - Start",
                    "rules": true
                }
            ],
            "locations": []
        },
        {
            "name": "Shrine - Start",
            "exits": [
                {
                    "name": "Shrine - After first magic switch",
                    "rules": "has_barrier(state, \"Shrine First Magic Barrier\", world) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Shrine - 6. Broken Cross Spear from first ranged Enemy",
                    "group": "Lore"
                },
                {
                    "name": "Shrine - 1. Crafted Soul Reader from pot in side alcove",
                    "group": "Lore"
                },
                {
                    "name": "Shrine - Chest at first magic switch barrier",
                    "group": "Chest"
                },
                {
                    "name": "Shrine - Chest on platform at first magic switch barrier",
                    "group": "Chest"
                },
                {
                    "name": "Shrine - First magic switch",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Shrine - After first magic switch",
            "exits": [
                {
                    "name": "Shrine - Cat Room",
                    "rules": "has_barrier(state, \"Shrine Second Magic Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has_any([\"Arcane\", \"Thunder\"], player))"
                },
                {
                    "name": "Shrine - Start",
                    "rules": "has_barrier(state, \"Shrine First Magic Barrier\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Shrine - 3. Copper Coin in Grand Hall statue barrel",
                    "group": "Lore"
                },
                {
                    "name": "Shrine - Second magic switch",
                    "rules": "state.has_any([\"Arcane\", \"Thunder\"], player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Shrine - Cat Room",
            "exits": [
                {
                    "name": "Shrine - After first magic switch",
                    "rules": "has_barrier(state, \"Shrine Second Magic Barrier\", world)"
                },
                {
                    "name": "Shrine - Armor Hall",
                    "rules": "has_barrier(state, \"Shrine Meet Cat Magic Barrier\", world) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Shrine - Meet Cat barrier",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Shrine - Armor Hall",
            "exits": [
                {
                    "name": "Secret passage - Start",
                    "rules": "has_barrier(state, \"Secret Passage Entrance Magic Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_fire_or_thunder(state, player))"
                },
                {
                    "name": "Secret passage - After first fire barrier",
                    "rules": "has_gate(state, \"Shrine Secret Area Shortcut Gate\", world)"
                },
                {
                    "name": "Secret Passage - Boss Shortcut",
                    "rules": "has_gate(state, \"Shrine Secret Boss Shortcut Gate\", world)"
                },
                {
                    "name": "Shrine - Underground shortcut",
                    "rules": "has_gate(state, \"Shrine Underground Shortcut Gate\", world)"
                },
                {
                    "name": "Shrine - Cat Room",
                    "rules": "has_barrier(state, \"Shrine Meet Cat Magic Barrier\", world)"
                },
                {
                    "name": "Underground - Start",
                    "rules": "has_attack_magic(state, player)"
                }
            ],
            "locations": [
                {
                    "name": "Shrine - Chest behind gate",
                    "group": "Chest"
                },
                {
                    "name": "Shrine - 12. Pointy Witch's Hat in pot at chest behind gate",
                    "group": "Lore"
                },
                {
                    "name": "Shrine - 7. Deformed Cavalier Armor from Enemy before Central Hall",
                    "group": "Lore"
                },
                {
                    "name": "Shrine - Specter Armor",
                    "rules": "has_attack_magic(state, player)",
                    "group": "Bosses"
                },
                {
                    "name": "Shrine - Secret passage magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Shrine - Underground shortcut",
            "exits": [
                {
                    "name": "Shrine - Armor Hall",
                    "rules": "has_gate(state, \"Shrine Underground Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Underground - Shrine shortcut",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Shrine - Underground shortcut gate switch",
                    "group": "Metal Gate"
                },
                {
                    "name": "Shrine - 14. Corpse Shroud from pot in Underground shortcut",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Secret passage - Start",
            "exits": [
                {
                    "name": "Shrine - Armor Hall",
                    "rules": "has_barrier(state, \"Secret Passage Entrance Magic Barrier\", world)"
                },
                {
                    "name": "Secret passage - After first fire barrier",
                    "rules": "has_barrier(state, \"Secret Passage First Fire Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_fire_or_thunder(state, player))"
                }
            ],
            "locations": [
                {
                    "name": "Secret Passage - 35. Dwarven Metalwork in pot after first drop",
                    "group": "Lore"
                },
                {
                    "name": "Secret Passage - 36. High Elf's Mana Ring in pot beside destructible wall",
                    "group": "Lore"
                },
                {
                    "name": "Secret Passage - 11. Broken Queen Doll from enemy behind destructible wall",
                    "group": "Lore"
                },
                {
                    "name": "Secret Passage - Absorption spell chest behind destructible wall",
                    "group": "Chest"
                },
                {
                    "name": "Secret Passage - First fire barrier magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Secret passage - After first fire barrier",
            "exits": [
                {
                    "name": "Secret passage - Start",
                    "rules": "has_barrier(state, \"Secret Passage First Fire Barrier\", world)"
                },
                {
                    "name": "Secret Passage - Dark Tunnel shortcut",
                    "rules": "has_gate(state, \"Secret Passage Dark Tunnel Shortcut Gate\", world)"
                },
                {
                    "name": "Shrine - Armor Hall",
                    "rules": "has_gate(state, \"Shrine Secret Area Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Secret Passage - Enraged Armor",
                    "rules": "has_barrier(state, \"Secret Passage Second Fire Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_fire_or_thunder(state, player))"
                }
            ],
            "locations": [
                {
                    "name": "Secret Passage - 37. Forest Elf's Vest from enemy before hole in floor",
                    "group": "Lore"
                },
                {
                    "name": "Secret Passage - Wind spell chest in alcove during fall",
                    "group": "Chest"
                },
                {
                    "name": "Secret Passage - Ice spell chest behind breakable wall after fall",
                    "group": "Chest"
                },
                {
                    "name": "Secret Passage - 4. Unknown House Banner from big enemy at spiral stairs",
                    "group": "Lore"
                },
                {
                    "name": "Secret Passage - Secret area shortcut gate switch",
                    "group": "Metal Gate"
                },
                {
                    "name": "Secret Passage - Fire spell chest at second fire barrier magic switch",
                    "group": "Chest"
                },
                {
                    "name": "Secret Passage - Second fire barrier magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                },
                {
                    "name": "Secret Passage - 38. Dark Elf's Ear Sample from pot at magic barrier",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Secret Passage - Enraged Armor",
            "exits": [
                {
                    "name": "Secret Passage - Boss Shortcut",
                    "rules": "has_barrier(state, \"Defeat Enraged Armor Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_attack_magic(state, player) and has_counter(state, player))"
                },
                {
                    "name": "Secret passage - After first fire barrier",
                    "rules": "has_barrier(state, \"Secret Passage Second Fire Barrier\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Secret Passage - 19. Knight's Halberd from pot before boss",
                    "group": "Lore"
                },
                {
                    "name": "Secret Passage - Enraged Armor",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Bosses"
                },
                {
                    "name": "Secret Passage - 56. Knight Kingdom Crown from Enraged Armor",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Secret Passage - Teleport from Enraged Armor",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Teleport"
                },
                {
                    "name": "Secret Passage - Defeat Enraged Armor barrier",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Secret Passage - Boss Shortcut",
            "exits": [
                {
                    "name": "Shrine - Armor Hall",
                    "rules": "has_gate(state, \"Shrine Secret Boss Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Secret Passage - Enraged Armor",
                    "rules": "has_barrier(state, \"Defeat Enraged Armor Barrier\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Secret Passage - Thunder spell chest after boss",
                    "group": "Chest"
                },
                {
                    "name": "Secret Passage - Boss shortcut gate switch",
                    "group": "Metal Gate"
                },
                {
                    "name": "Secret Passage - 13. Sleeve Dagger",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Secret Passage - Dark Tunnel shortcut",
            "exits": [
                {
                    "name": "Dark Tunnel - After bridge collapse",
                    "rules": true
                },
                {
                    "name": "Secret passage - After first fire barrier",
                    "rules": "has_gate(state, \"Secret Passage Dark Tunnel Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Secret Passage - Dark Tunnel shortcut gate switch",
                    "group": "Metal Gate"
                }
            ]
        },
        {
            "name": "Underground - Start",
            "exits": [
                {
                    "name": "Underground - After wind",
                    "rules": "has_wind_or_skip(state, world)"
                }
            ],
            "locations": [
                {
                    "name": "Underground - 8. Hero's Cross Sword",
                    "group": "Lore"
                },
                {
                    "name": "Underground - 9. Giant Axe",
                    "group": "Lore"
                },
                {
                    "name": "Underground - 10. Shield of the Church",
                    "group": "Lore"
                },
                {
                    "name": "Underground - 97. Faithful Soul Shard",
                    "group": "Lore"
                },
                {
                    "name": "Underground - Wind spell chest",
                    "group": "Chest"
                }
            ]
        },
        {
            "name": "Underground - After wind",
            "exits": [
                {
                    "name": "Underground - Grand Hall",
                    "rules": "has_barrier(state, \"Underground Magic Barrier At Maid Enemy\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has(\"Ice\", player))"
                },
                {
                    "name": "Underground - Start",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Underground - 18. Soul Doll Remnant from first doll enemy",
                    "group": "Lore"
                },
                {
                    "name": "Underground - Chest in alcove before falling rocks",
                    "group": "Chest"
                },
                {
                    "name": "Underground - Chest across staircase on backtrack path",
                    "group": "Chest"
                },
                {
                    "name": "Underground - 2. Stained Ribbon down on glowing rock",
                    "group": "Lore"
                },
                {
                    "name": "Underground - Arcane chest at bridge jumping puzzle",
                    "rules": "has_wind_or_skip(state, world)",
                    "group": "Chest"
                },
                {
                    "name": "Underground - Ice spell chest in bottom pit",
                    "group": "Chest"
                },
                {
                    "name": "Underground - 17. Tattered Maid Outfit from maid enemy",
                    "group": "Lore"
                },
                {
                    "name": "Underground - Cat absorption hint & gift",
                    "group": "Item"
                },
                {
                    "name": "Underground - Magic barrier switches at maid enemy",
                    "rules": "state.has(\"Ice\", player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Underground - Grand Hall",
            "exits": [
                {
                    "name": "Underground - After fire",
                    "rules": "state.has(\"Ice\", player)"
                },
                {
                    "name": "Underground - After wind",
                    "rules": "has_barrier(state, \"Underground Magic Barrier At Maid Enemy\", world)"
                },
                {
                    "name": "Underground - Lava ruins shortcut",
                    "rules": "has_gate(state, \"Underground Lava Ruins Shortcut Gate\", world)"
                },
                {
                    "name": "Underground - Shrine shortcut",
                    "rules": "has_gate(state, \"Underground Lava Ruins Shortcut Gate\", world)"
                },
                {
                    "name": "Underground - Tania shortcut",
                    "rules": "has_gate(state, \"Underground Tania Shortcut Gate On Grand Hall Side\", world)"
                }
            ]
        },
        {
            "name": "Underground - Lava ruins shortcut",
            "exits": [
                {
                    "name": "Underground - Grand Hall",
                    "rules": "has_gate(state, \"Underground Lava Ruins Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Underground - Shrine shortcut",
                    "rules": "has_gate(state, \"Underground Lava Ruins Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Lava Ruins - Path to dark tunnel",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Underground - Lava ruins shortcut gate switch",
                    "group": "Metal Gate"
                }
            ]
        },
        {
            "name": "Underground - Shrine shortcut",
            "exits": [
                {
                    "name": "Underground - Grand Hall",
                    "rules": true
                },
                {
                    "name": "Underground - Lava ruins shortcut",
                    "rules": "has_gate(state, \"Underground Lava Ruins Shortcut Gate\", world)"
                },
                {
                    "name": "Shrine - Underground shortcut",
                    "rules": true
                }
            ]
        },
        {
            "name": "Underground - Tania shortcut",
            "exits": [
                {
                    "name": "Underground - Grand Hall",
                    "rules": "has_gate(state, \"Underground Tania Shortcut Gate On Grand Hall Side\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Underground - Tania",
                    "rules": "has_gate(state, \"Underground Tania Shortcut Gate On Tania Side\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Underground - 15. Headcutter Circular Saw",
                    "group": "Lore"
                },
                {
                    "name": "Underground - Tania shortcut switch on statue side",
                    "group": "Metal Gate"
                }
            ]
        },
        {
            "name": "Underground - After fire",
            "exits": [
                {
                    "name": "Underground - After fire magic switch barrier",
                    "rules": "has_barrier(state, \"Underground Fire Barrier Magic Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has(\"Ice\", player))"
                },
                {
                    "name": "Underground - Grand Hall",
                    "rules": "state.has(\"Ice\", player)"
                }
            ],
            "locations": [
                {
                    "name": "Underground - 16. Test Subject Manacle from barrel after fire",
                    "group": "Lore"
                },
                {
                    "name": "Underground - Chest after fire",
                    "group": "Chest"
                },
                {
                    "name": "Underground - After fire magic switch",
                    "rules": "state.has(\"Ice\", player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Underground - After fire magic switch barrier",
            "exits": [
                {
                    "name": "Underground - Tania",
                    "rules": "has_barrier(state, \"Underground Enemy Magic Barrier\", world) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                },
                {
                    "name": "Underground - After fire",
                    "rules": "has_barrier(state, \"Underground Fire Barrier Magic Barrier\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Underground - Defeat enemies barrier",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Underground - Tania",
            "exits": [
                {
                    "name": "Underground - Tania shortcut",
                    "rules": "has_gate(state, \"Underground Tania Shortcut Gate On Tania Side\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Underground - After fire magic switch barrier",
                    "rules": "has_barrier(state, \"Underground Enemy Magic Barrier\", world)"
                },
                {
                    "name": "Lava Ruins - Start",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)"
                }
            ],
            "locations": [
                {
                    "name": "Underground - Tania",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Bosses"
                },
                {
                    "name": "Underground - Tania shortcut switch on Tania side",
                    "group": "Metal Gate"
                },
                {
                    "name": "Underground - 98. Lost Maiden's Soul Shard from Tania",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Lava Ruins - Start",
            "exits": [
                {
                    "name": "Lava Ruins - After magic platforms",
                    "rules": "has_barrier(state, \"Lava Ruins Magic Platforms\", world) or has_gate(state, \"Lava Ruins Fake Floor Shortcut Gate\", world) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                },
                {
                    "name": "Lava Ruins - Monica warp",
                    "rules": "has_gate(state, \"Lava Ruins Monica Warp Gate\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Lava Ruins - 26. Teddy Bear",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - 30. Merchant's Ledger from enemy",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Chest on scaffolding",
                    "rules": "has_wind_or_damage_boost(state, world)",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - Chest on left side lava ledge",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - 29. Slave Branding Iron in barrel after dropping down",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Absorption spell chest after dropping down",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - Chest on right ruins ledge at shotgun enemies magic switch",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - Magic platform switch at shotgun enemies",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Lava Ruins - After magic platforms",
            "exits": [
                {
                    "name": "Lava Ruins - After scissor enemy barrier",
                    "rules": "has_barrier(state, \"Lava Ruins Scissor Enemy Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_attack_magic(state, player))"
                },
                {
                    "name": "Lava Ruins - Start",
                    "rules": "has_barrier(state, \"Lava Ruins Magic Platforms\", world) or has_gate(state, \"Lava Ruins Fake Floor Shortcut Gate\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Lava Ruins - 27. Fractured Stone Axe from red enemy behind destructible wall",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Wind spell chest behind destructible walls",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - 20. Weathered Cloak in corner on ruins top",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - 28. Cage on path to starting area shortcut gate",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Fake floor shortcut gate switch",
                    "group": "Metal Gate"
                },
                {
                    "name": "Lava Ruins - Fake floor bait item",
                    "group": "Item"
                },
                {
                    "name": "Lava Ruins - 23. Cursed Turquoise Necklace from scissor enemy",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Defeat scissor enemy barrier",
                    "rules": "has_attack_magic(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Lava Ruins - After scissor enemy barrier",
            "exits": [
                {
                    "name": "Lava Ruins - After magic platforms",
                    "rules": "has_barrier(state, \"Lava Ruins Scissor Enemy Lift\", world) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                },
                {
                    "name": "Lava Ruins - After Fire Barrier",
                    "rules": "has_barrier(state, \"Lava Ruins Fire Magic Barrier\", world) or has_gate(state, \"Lava Ruins Monica Shortcut Gate\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_fire_or_thunder(state, player))"
                }
            ],
            "locations": [
                {
                    "name": "Lava Ruins - Lift magic switch at scissor enemy",
                    "group": "Barrier"
                },
                {
                    "name": "Lava Ruins - 32. Slave Collar from ranged enemy in corner at spewing lava",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Chest in spewing lava room",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - Fire spell chest at double staircase",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - 31. Slave Tag from pot atop of double staircase",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Fire magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Lava Ruins - After Fire Barrier",
            "exits": [
                {
                    "name": "Lava Ruins - After scissor enemy barrier",
                    "rules": "has_barrier(state, \"Lava Ruins Fire Magic Barrier\", world) or has_gate(state, \"Lava Ruins Monica Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Lava Ruins - Monica",
                    "rules": "has_wind_or_damage_boost(state, world)"
                }
            ],
            "locations": [
                {
                    "name": "Lava Ruins - 25. Copper Ingot on path through hole in wall",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - 22. Intricate Clock from barrel in lava maze",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - Chest in lava maze",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - Jumping puzzle arcane chest at moving ring gauntlet",
                    "rules": "state.has(\"Wind\", player)",
                    "group": "Chest"
                },
                {
                    "name": "Lava Ruins - Monica shortcut switch",
                    "group": "Metal Gate"
                },
                {
                    "name": "Lava Ruins - 21. Silver Coin from barrel at Monica statue",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - 24. Glass Lantern from scissor enemy",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Lava Ruins - Monica",
            "exits": [
                {
                    "name": "Lava Ruins - After Fire Barrier",
                    "rules": true
                },
                {
                    "name": "Lava Ruins - Monica warp",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)"
                }
            ],
            "locations": [
                {
                    "name": "Lava Ruins - Monica",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Bosses"
                },
                {
                    "name": "Lava Ruins - 34. Bestian Ear from Monica",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - 33. Bestian Palm from Monica",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Lava Ruins - 99. Child's Soul Shard from Monica",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Lava Ruins - Monica warp",
            "exits": [
                {
                    "name": "Lava Ruins - Path to dark tunnel",
                    "rules": "has_gate(state, \"Lava Ruins Monica Warp Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                },
                {
                    "name": "Lava Ruins - Start",
                    "rules": "has_gate(state, \"Lava Ruins Monica Warp Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Lava Ruins - Monica warp gate switch",
                    "group": "Metal Gate"
                }
            ]
        },
        {
            "name": "Lava Ruins - Path to dark tunnel",
            "exits": [
                {
                    "name": "Underground - Lava ruins shortcut",
                    "rules": true
                },
                {
                    "name": "Dark Tunnel - Start",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Lava Ruins - Ice spell chest in corner on path to dark tunnel",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 5. Melted Silver Candlestick in front of underground shortcut",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Dark Tunnel - Start",
            "exits": [
                {
                    "name": "Dark Tunnel - After first magic barrier",
                    "rules": "has_barrier(state, \"Dark Tunnel First Magic Barrier\", world) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                },
                {
                    "name": "Lava Ruins - Path to dark tunnel",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Dark Tunnel - 39. Dark Elf's Short Bow from barrel on scaffolding",
                    "rules": "has_wind_or_damage_boost(state, world)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 43. Bloodstained Javelin from barrel at statue",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 40. Ogre's Kidney from first shield enemy",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 41. Ogre's Eye from first ranged enemy",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 44. Nomad's Cookware from barrel at magic barrier switch",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - First magic barrier switch",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Dark Tunnel - After first magic barrier",
            "exits": [
                {
                    "name": "Dark Tunnel - Start",
                    "rules": "has_barrier(state, \"Dark Tunnel First Magic Barrier\", world)"
                },
                {
                    "name": "Dark Tunnel - After first gate",
                    "rules": "has_gate(state, \"Dark Tunnel First Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Dark Tunnel - 42. Ogre's Club from shield enemy at gate switch",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - First gate switch",
                    "group": "Metal Gate"
                }
            ]
        },
        {
            "name": "Dark Tunnel - After first gate",
            "exits": [
                {
                    "name": "Dark Tunnel - After first magic barrier",
                    "rules": "has_gate(state, \"Dark Tunnel First Gate\", world)"
                },
                {
                    "name": "Dark Tunnel - After light switch barrier",
                    "rules": "has_barrier(state, \"Dark Tunnel Light Switch Barrier\", world) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Dark Tunnel - Absorption spell chest hidden behind rubble at staircase",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 45. Golden Coin from first mimic",
                    "rules": "state.has(\"Fire\", player)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Chest at jump from broken staircase",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 46. Tooth Thief's Pouch from barrel at scaffolding",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Wind spell chest in dark hole",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 50. Crafted Soul Injector from pot at light switch after getting the hat",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Light switch after getting the hat",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Dark Tunnel - After light switch barrier",
            "exits": [
                {
                    "name": "Dark Tunnel - After thunder barrier",
                    "rules": "has_barrier(state, \"Dark Tunnel Thunder Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has(\"Thunder\", player))"
                },
                {
                    "name": "Dark Tunnel - Start",
                    "rules": "has_barrier(state, \"Dark Tunnel Light Switch Barrier\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Dark Tunnel - 57. Lady's Feather Hat from puppeteer",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 47. Blood Orc's Skin Sample from barrel above dark maze",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Fire spell chest inside dark maze",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 48. Chief's Skull from right mimic in mimic room",
                    "rules": "state.has(\"Fire\", player)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 49. Chief's Skull from straight mimic in mimic room",
                    "rules": "state.has(\"Fire\", player)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Thunder spell chest in mimic room",
                    "rules": "has_wind_or_damage_boost(state, world)",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 53. Ceremonial Sword from barrel at second statue",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Thunder barrier magic switches",
                    "rules": "state.has(\"Thunder\", player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Dark Tunnel - After thunder barrier",
            "exits": [
                {
                    "name": "Dark Tunnel - After light switch barrier",
                    "rules": "has_barrier(state, \"Dark Tunnel Thunder Barrier\", world)"
                },
                {
                    "name": "Dark Tunnel - After floating platforms",
                    "rules": "(has_barrier(state, \"Dark Tunnel Floating Platform One\", world) and has_barrier(state, \"Dark Tunnel Floating Platform Two\", world) and has_barrier(state, \"Dark Tunnel Floating Platform Three\", world)) or state.has(\"Wind\", player) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has(\"Thunder\", player))"
                }
            ],
            "locations": [
                {
                    "name": "Dark Tunnel - 51. Hero's Insignia",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Chest in alcove",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 54. Banner of the Lance Hero from lightning enemy",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Floating platform switch one",
                    "rules": "state.has(\"Thunder\", player) or state.can_reach(\"Dark Tunnel - After floating platforms\", \"Region\", player)",
                    "group": "Barrier"
                },
                {
                    "name": "Dark Tunnel - Floating platform switch two",
                    "rules": "state.has(\"Thunder\", player) or state.can_reach(\"Dark Tunnel - After floating platforms\", \"Region\", player)",
                    "group": "Barrier"
                },
                {
                    "name": "Dark Tunnel - Floating platform switch three",
                    "rules": "state.has(\"Thunder\", player) or state.can_reach(\"Dark Tunnel - After floating platforms\", \"Region\", player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Dark Tunnel - After floating platforms",
            "exits": [
                {
                    "name": "Dark Tunnel - After thunder barrier",
                    "rules": "(has_barrier(state, \"Dark Tunnel Floating Platform One\", world) and has_barrier(state, \"Dark Tunnel Floating Platform Two\", world) and has_barrier(state, \"Dark Tunnel Floating Platform Three\", world)) or state.has(\"Wind\", player) or options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla"
                },
                {
                    "name": "Dark Tunnel - After bridge collapse",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Dark Tunnel - Chest on left side after floating platforms",
                    "group": "Chest"
                }
            ]
        },
        {
            "name": "Dark Tunnel - After bridge collapse",
            "exits": [
                {
                    "name": "Spirit Realm - Start",
                    "rules": true
                },
                {
                    "name": "Secret Passage - Dark Tunnel shortcut",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Dark Tunnel - Arcane spell chest on collapsed bridge",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 52. Mutated Beast Claw from pot in big hall",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 69. Pontiff's Scepter from singular barrel in side room",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 71. Apocalypse Knight Record from knight enemy",
                    "rules": "has_wind_or_damage_boost(state, world)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 103. Loyal Soul Shard from knight enemy",
                    "rules": "has_wind_or_damage_boost(state, world)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Chest after knight enemy",
                    "rules": "has_wind_or_damage_boost(state, world)",
                    "group": "Chest"
                },
                {
                    "name": "Dark Tunnel - 65. Declaration of War from barrel at statue",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - Vanessa",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Bosses"
                },
                {
                    "name": "Dark Tunnel - 100. King's Final Honor from Vanessa",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 78. Ancient Throne Rune from Vanessa",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Dark Tunnel - 77. The Throne from Vanessa",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Spirit Realm - Start",
            "exits": [
                {
                    "name": "Spirit Realm - After platforms",
                    "rules": "state.has(\"Wind\", player)"
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - 72. Apocalypse Knight Shield from crystal at statue",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 73. Apocalypse Knight Axe from enemy in trapped barrel",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 79. Doctor's Mask hidden on ledge",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Wind spell chest inside roof hole",
                    "group": "Chest"
                },
                {
                    "name": "Spirit Realm - Wind spell chest gate switch",
                    "group": "Metal Gate"
                },
                {
                    "name": "Spirit Realm - 55. Banner of the Lionhearted from crystal in doorway",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 75. Apocalypse Knight Bow from bow enemy",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Spirit Realm - After platforms",
            "exits": [
                {
                    "name": "Spirit Realm - Start",
                    "rules": true
                },
                {
                    "name": "Spirit Realm - After second Seal",
                    "rules": "has_gate(state, \"Spirit Realm Statue Shortcut Gate\", world)"
                },
                {
                    "name": "Spirit Realm - After arcane barrier",
                    "rules": "has_barrier(state, \"Spirit Realm Arcane Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has(\"Arcane\", player))"
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - 61. Knight Kingdom Entry Pass from sword enemy",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 58. Super Cleanser Soap from crystal on path",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Chest hidden in dropdown alcove",
                    "group": "Chest"
                },
                {
                    "name": "Spirit Realm - 63. Inquisitor's List from crystal at second statue",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Ice spell chest in right side alcove",
                    "rules": "state.has(\"Wind\", player)",
                    "group": "Chest"
                },
                {
                    "name": "Spirit Realm - Ice spell chest gate switch in right side alcove",
                    "rules": "state.has(\"Wind\", player)",
                    "group": "Metal Gate"
                },
                {
                    "name": "Spirit Realm - 76. Apocalypse Knight Sword from enemy",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 74. Apocalypse Knight Staff from enemy",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Arcane barrier magic switches",
                    "rules": "state.has(\"Arcane\", player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Spirit Realm - After arcane barrier",
            "exits": [
                {
                    "name": "Spirit Realm - After platforms",
                    "rules": true
                },
                {
                    "name": "Spirit Realm - Seal",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - Thunder spell chest behind breakable wall",
                    "group": "Chest"
                },
                {
                    "name": "Spirit Realm - 86. Missing Person Poster on bridge",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Platform shortcut switch",
                    "rules": "state.has(\"Fire\", player) and state.has(\"Thunder\", player)",
                    "group": "Barrier"
                },
                {
                    "name": "Spirit Realm - 59. Exquisite Leather Lamp from crystal before Seal",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Spirit Realm - Seal",
            "exits": [
                {
                    "name": "Spirit Realm - After first Seal",
                    "rules": "has_barrier(state, \"Spirit Realm First Seal Magic Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_attack_magic(state, player))"
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - 66. Attic Key from crystal at first Seal phase",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 64. Envoy's Rune from crystal at first Seal phase",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 60. Premium Grass Ash from crystal at first Seal phase",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - 62. Bone Chess Set from crystal at first Seal phase",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - First Seal magic barrier",
                    "rules": "has_attack_magic(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Spirit Realm - After first Seal",
            "exits": [
                {
                    "name": "Spirit Realm - Seal",
                    "rules": "has_barrier(state, \"Spirit Realm First Seal Magic Barrier\", world)"
                },
                {
                    "name": "Spirit Realm - After second Seal",
                    "rules": "has_barrier(state, \"Spirit Realm Second Seal Magic Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_attack_magic(state, player))"
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - 90. Enchanted Shackles from second Seal phase",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Fire spell chest at second Seal phase",
                    "group": "Chest"
                },
                {
                    "name": "Spirit Realm - Second Seal magic barrier",
                    "rules": "has_attack_magic(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Spirit Realm - After second Seal",
            "exits": [
                {
                    "name": "Spirit Realm - After first Seal",
                    "rules": "has_barrier(state, \"Spirit Realm Second Seal Magic Barrier\", world)"
                },
                {
                    "name": "Spirit Realm - After elevator",
                    "rules": "has_barrier(state, \"Spirit Realm Elevator\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_attack_magic(state, player))"
                },
                {
                    "name": "Spirit Realm - After platforms",
                    "rules": "has_gate(state, \"Spirit Realm Statue Shortcut Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - 87. Saint's Cane from crystal at third statue",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Statue shortcut gate switch",
                    "group": "Metal Gate"
                },
                {
                    "name": "Spirit Realm - 67. Halfling's Forelimb from crystal at elevator magic switch",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Elevator magic switch",
                    "rules": "has_attack_magic(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Spirit Realm - After elevator",
            "exits": [
                {
                    "name": "Spirit Realm - After teleport",
                    "rules": "has_barrier(state, \"Spirit Realm Teleporter\", world) or ((has_barrier(state, \"Spirit Realm Magic Switch Barrier\", world) or (has_fire_or_thunder(state, player) and has_barrier(state, \"Spirit Realm Fire Deactivation\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and (state.has(\"Ice\", player) or state.has(\"Thunder\", player))) or has_barrier(state, \"Spirit Realm Fire Deactivation\", world))) and has_fire_or_thunder(state, player))"
                },
                {
                    "name": "Spirit Realm - After second Seal",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - 68. Ratian Claw from crystal after elevator",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Absorption spell chest behind crystals after elevator",
                    "group": "Chest"
                },
                {
                    "name": "Spirit Realm - Fire control magic switch",
                    "rules": "(options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and (state.has(\"Ice\", player) or state.has(\"Thunder\", player))) or has_barrier(state, \"Spirit Realm Fire Deactivation\", world)",
                    "group": "Barrier"
                },
                {
                    "name": "Spirit Realm - Magic switch barrier switch",
                    "rules": "has_barrier(state, \"Spirit Realm Fire Deactivation\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and (state.has(\"Ice\", player) or state.has(\"Thunder\", player))) or has_barrier(state, \"Spirit Realm Fire Deactivation\", world)",
                    "group": "Barrier"
                },
                {
                    "name": "Spirit Realm - Teleporter magic switch",
                    "rules": "has_barrier(state, \"Spirit Realm Magic Switch Barrier\", world) or (has_fire_or_thunder(state, player) and has_barrier(state, \"Spirit Realm Fire Deactivation\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and (state.has(\"Ice\", player) or state.has(\"Thunder\", player))) or has_barrier(state, \"Spirit Realm Fire Deactivation\", world))",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Spirit Realm - After teleport",
            "exits": [
                {
                    "name": "Spirit Realm - After elevator",
                    "rules": true
                },
                {
                    "name": "Abyss",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Spirit Realm - 70. Abandoned Rag Doll from crystal on spiral stairs",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Chest before boss behind breakable wall",
                    "group": "Chest"
                },
                {
                    "name": "Spirit Realm - 89. Bloodstained Key at statue before boss",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Vanessa V2",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Bosses"
                },
                {
                    "name": "Spirit Realm - 101. Proud King's Crafted Soul Shard from Vanessa V2",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Spirit Realm - Thunder spell from Vanessa V2",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Item"
                }
            ]
        },
        {
            "name": "Abyss",
            "exits": [
                {
                    "name": "Abyss - After first teleport",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Abyss - 80. Ceremonial Incense at first statue",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Abyss - After first teleport",
            "exits": [
                {
                    "name": "Abyss - After first gate",
                    "rules": "has_gate(state, \"Abyss First Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - First gate switch",
                    "group": "Metal Gate"
                }
            ]
        },
        {
            "name": "Abyss - After first gate",
            "exits": [
                {
                    "name": "Abyss - After giant maid barrier",
                    "rules": "has_barrier(state, \"Abyss After Giant Maid Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_attack_magic(state, player))"
                },
                {
                    "name": "Abyss - Left gate at trap",
                    "rules": "has_gate(state, \"Abyss Left Trap Gate\", world) or options.shortcut_gate_behaviour.value == options.shortcut_gate_behaviour.option_vanilla"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - 81. Moonlight Blade from trapped barrel",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - 83. Castle Blueprint from crystal on brittle ledge",
                    "rules": "state.has(\"Wind\", player)",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - Arcane spell chest on pillar",
                    "group": "Chest"
                },
                {
                    "name": "Abyss - 84. Witch Worshipper Puppet from pot right of pillars",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - Giant maid barrier",
                    "rules": "has_attack_magic(state, player)",
                    "group": "Barrier"
                },
                {
                    "name": "Abyss - Left gate trigger",
                    "group": "Metal Gate"
                }
            ]
        },
        {
            "name": "Abyss - Left gate at trap",
            "exits": [
                {
                    "name": "Abyss - After first gate",
                    "rules": "has_gate(state, \"Abyss Left Trap Gate\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - 82. Prostitute's Chiffon from crystal in left trap gate",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - Chest in left trap gate",
                    "group": "Chest"
                }
            ]
        },
        {
            "name": "Abyss - After giant maid barrier",
            "exits": [
                {
                    "name": "Abyss - Trials Lobby",
                    "rules": true
                }
            ],
            "locations": [
                {
                    "name": "Abyss - 85. Polymorphism Scroll from crystal behind gate",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Abyss - Trials Lobby",
            "exits": [
                {
                    "name": "Abyss - Underground Trial",
                    "rules": "state.has(\"Trial Key\", player, 3) or options.trial_keys.value == Toggle.option_false"
                },
                {
                    "name": "Abyss - Lava Ruins Trial",
                    "rules": "state.has(\"Trial Key\", player, 3) or options.trial_keys.value == Toggle.option_false"
                },
                {
                    "name": "Abyss - Dark Tunnel Trial",
                    "rules": "state.has(\"Trial Key\", player, 3) or options.trial_keys.value == Toggle.option_false"
                },
                {
                    "name": "Abyss - Nonota",
                    "rules": "has_goal_requirements(state, world) and (has_barrier(state, \"Abyss Underground Trial Magic Switch\", world) and has_barrier(state, \"Abyss Lava Ruins Trial Magic Switch\", world) and has_barrier(state, \"Abyss Dark Tunnel Trial Magic Switch\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has(\"Thunder\", player)))"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - 88. Hero Summon Rune in front of statue",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Abyss - Underground Trial",
            "exits": [
                {
                    "name": "Abyss - Underground Trial magic switch",
                    "rules": "has_barrier(state, \"Abyss After Scissor Enemy Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_fire_or_thunder(state, player))"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - Fire Spell chest underground trial",
                    "group": "Chest"
                },
                {
                    "name": "Abyss - Underground trial unlock enemies magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                },
                {
                    "name": "Abyss - 91. Gaseous Soul Essence from scissor enemy in underground trial",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - Underground trial scissor enemy magic gate",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Abyss - Underground Trial magic switch",
            "exits": [
                {
                    "name": "Abyss - Trials Lobby",
                    "rules": "has_barrier(state, \"Abyss Underground Trial Magic Switch\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - Underground trial magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                },
                {
                    "name": "Abyss - 92. Semi-gaseous Soul Essence in front of underground trial magic switch",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Abyss - Dark Tunnel Trial",
            "exits": [
                {
                    "name": "Abyss - Dark Tunnel Trial magic switch",
                    "rules": "has_barrier(state, \"Abyss Dark Tunnel Trial Maid Enemy Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and state.has(\"Thunder\", player))"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - Thunder spell chest dark tunnel trial",
                    "rules": "has_wind_or_skip(state, world)",
                    "group": "Chest"
                },
                {
                    "name": "Abyss - 95. Refined Soul Shard from maid enemy in dark tunnel trial",
                    "rules": "state.has(\"Thunder\", player)",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - Dark tunnel trial maid enemy barrier",
                    "rules": "state.has(\"Thunder\", player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Abyss - Dark Tunnel Trial magic switch",
            "exits": [
                {
                    "name": "Abyss - Trials Lobby",
                    "rules": "has_barrier(state, \"Abyss Dark Tunnel Trial Magic Switch\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - Dark Tunnel trial magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                },
                {
                    "name": "Abyss - 96. Knight's Soul Shard in front of dark tunnel trial magic switch",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Abyss - Lava Ruins Trial",
            "exits": [
                {
                    "name": "Abyss - Lava Ruins Trial magic switch",
                    "rules": "has_barrier(state, \"Abyss Lava Ruins Trial Maid Enemy Barrier\", world) or (options.barrier_behaviour.value == options.barrier_behaviour.option_vanilla and has_attack_magic(state, player))"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - Ice spell chest lava ruins trial",
                    "group": "Chest"
                },
                {
                    "name": "Abyss - 93. Enchanted Soul Shard from maid enemy in lava ruins trial",
                    "rules": "has_fire_or_thunder(state, player) or state.has(\"Ice\", player)",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - Lava Ruins trial defeat maids enemy barrier",
                    "rules": "has_fire_or_thunder(state, player) or state.has(\"Ice\", player)",
                    "group": "Barrier"
                }
            ]
        },
        {
            "name": "Abyss - Lava Ruins Trial magic switch",
            "exits": [
                {
                    "name": "Abyss - Trials Lobby",
                    "rules": "has_barrier(state, \"Abyss Lava Ruins Trial Magic Switch\", world)"
                }
            ],
            "locations": [
                {
                    "name": "Abyss - Lava Ruins trial magic switch",
                    "rules": "has_fire_or_thunder(state, player)",
                    "group": "Barrier"
                },
                {
                    "name": "Abyss - 94. Knight's Soul Shard in front of lava ruins trial magic switch",
                    "group": "Lore"
                }
            ]
        },
        {
            "name": "Abyss - Nonota",
            "exits": [],
            "locations": [
                {
                    "name": "Abyss - 102. Lost Maiden's Crafted Soul Shard from Nonota",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Lore"
                },
                {
                    "name": "Abyss - Nonota",
                    "rules": "has_attack_magic(state, player) and has_counter(state, player)",
                    "group": "Event"
                }
            ]
        }
    ]
}